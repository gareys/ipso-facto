import{R as e,C as t,G as a,a as r}from"./vendor.880eac16.js";var n="/ipso-facto/assets/favicon.613a054b.svg";const l=({ipInfo:t})=>e.createElement("div",{className:"ipInfo"},e.createElement("div",{id:"info-left"},e.createElement("h1",{"data-testid":"ip-address"},t.ip.length>15?e.createElement("abbr",{title:t.ip},t.ip.slice(0,12),"..."):e.createElement(e.Fragment,null,t.ip)),e.createElement("small",null,"Your IP Address"),e.createElement("p",{"data-testid":"isp"},t.isp),e.createElement("small",null,"Your ",e.createElement("abbr",{title:"Internet Service Provider"},"ISP")),e.createElement("p",{"data-testid":"location"},t.city,", ",t.region," ",t.postal_code),e.createElement("small",null,"Your Location")),e.createElement("div",{id:"info-right"},e.createElement("img",{"data-testid":"ball",src:n,id:"info-ball",className:"ball"}))),s=({setipInfo:t,setLoading:a,setError:r,setRerender:n})=>e.createElement("details",{id:"dev-menu"},e.createElement("summary",null,e.createElement("div",{id:"dev-menu-wrench"},"ðŸ”§")),e.createElement("div",{id:"dev-menu-contents"},e.createElement("button",{onClick:()=>{a(!1),r(!0),t(void 0)}},"Show Error State"),e.createElement("button",{onClick:()=>{a(!0),r(!1),t(void 0)}},"Show Loading State"),e.createElement("button",{onClick:()=>{r(!1),a(!0),n(!0)}},"Rerender App")));function i(){const[r,i]=t.exports.useState(),[o,c]=t.exports.useState(!1),[m,d]=t.exports.useState(!0),[p,E]=t.exports.useState(!0);return t.exports.useEffect((()=>{p&&(async()=>{try{const e=await(async()=>{const e=await fetch("https://json.geoiplookup.io/");return await e.json()})();i(e),console.log(e)}catch(e){c(!0)}finally{d(!1),E(!1)}})()}),[p]),e.createElement("div",{className:"App"},e.createElement("section",{className:"App-container"},m&&!r&&e.createElement("img",{"data-testid":"loading-ball",src:n,className:"ball"}),o&&e.createElement(e.Fragment,null,e.createElement(a,{"data-testid":"error-gif",gif:"/ipso-facto/assets/error.9cf6ce3f.gif",still:"/ipso-facto/assets/error-still.a08f09b0.png"}),e.createElement("h2",{"data-testid":"error-text",id:"error-text"},"We were unable to retrieve your IP")),!o&&!m&&e.createElement(a,{gif:"/ipso-facto/assets/ipso.c74cf61e.gif",still:"/ipso-facto/assets/ipso-still.33705b1a.png"}),r&&e.createElement(l,{ipInfo:r}),e.createElement(s,{setLoading:d,setError:c,setipInfo:i,setRerender:E})))}r.render(e.createElement(e.StrictMode,null,e.createElement(i,null)),document.getElementById("root"));
